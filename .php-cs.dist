<?php

// For more information visit the Github repository: https://github.com/FriendsOfPHP/PHP-CS-Fixer

// How to set up PHP-CS-Fixer in PHPStorm:
// https://hackernoon.com/how-to-configure-phpstorm-to-use-php-cs-fixer-1844991e521f

use PhpCsFixer\Config;
use PhpCsFixer\Finder;

$fixers = array(
    '@PSR1' => true,
    '@PSR2' => true,
    'array_syntax' => array(
        'syntax' => 'short',
    ),
    'blank_line_after_opening_tag' => true,
    'method_argument_space' => false,
);
$finder = Finder::create()
                ->exclude('vendor')
                ->exclude('vendors')
                ->in(__DIR__);

/**
 * For PHP7.1< ignore this specific file
 */
if (PHP_VERSION_ID < 70100) {
    $finder->notPath('src/Controller/Plugin/Extendable/CsrfCompatible.php');
}

return Config::create()
             ->setRiskyAllowed(true)
             ->setUsingCache(true)
             ->setRules($fixers)
             ->setFinder($finder);
